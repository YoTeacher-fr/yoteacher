<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="payment.title">Paiement - YoTeach</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üá´üá∑</text></svg>">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="payment.css">
<link rel="stylesheet" href="auth-ui.css">
</head>
<body>
    <!-- Header r√©duit comme booking.html -->
    <header class="main-header scrolled">
        <div class="container">
            <div class="header-content">
                
                <div class="logo-section">
                    <a href="index.html" class="logo">Yoann</a>
                    <div class="flag">üá´üá∑</div>
                </div>
                
                <div class="mobile-header-right-group">


                <!-- Groupe droit pour langue, devise et avatar -->
                <div class="header-right-group">
                    <!-- S√©lecteur de devise -->
                    <div class="currency-selector">
                        <i class="fas fa-money-bill-wave"></i>
                        <select id="currencySelector"></select>
                    </div>
                    
                    <!-- S√©lecteur de langue -->
                    <div class="language-switcher" id="languageSwitcherDesktop">
                        <span class="flag">üåê</span>
                        <span data-i18n="header.language">EN</span>
                    </div>
                                        <!-- Bouton Connexion/Dashboard Mobile -->
                    <a href="login.html" class="mobile-login-btn-header" data-i18n="header.login">Connexion</a>
                </div>
                    <!-- Bouton de connexion (visible si non connect√©) -->
                    <a href="login.html" class="login-btn" id="loginBtn" data-i18n="header.login">Connexion</a>
                </div>
            </div>
        </div>
        
    </header>

    <section class="payment-section">
        <div class="payment-container">
            <div class="payment-header">
                <h1 class="payment-title" data-i18n="payment.title_main">Finaliser votre paiement</h1>
                <p class="payment-subtitle" data-i18n="payment.subtitle">Choisissez votre moyen de paiement et confirmez votre r√©servation</p>
            </div>
            
            <!-- Notification pour Interac -->
            <div class="interac-currency-notice" id="interacCurrencyNotice">
                <i class="fas fa-info-circle"></i>
                <strong data-i18n="payment.interac_note">Note importante :</strong> <span data-i18n="payment.interac_message">Les paiements Interac doivent √™tre effectu√©s en dollars canadiens (CAD). La devise a √©t√© automatiquement ajust√©e pour vous.</span>
            </div>

            <div class="error-message" id="paymentError">
                <i class="fas fa-exclamation-circle"></i> <span id="errorText"></span>
            </div>

            <div class="payment-grid">
                <!-- Colonne gauche : Moyens de paiement -->
                <div class="payment-card">
                    <h2 class="card-title" data-i18n="payment.choose_method">Choisir un moyen de paiement</h2>
                    
                    <div class="payment-methods">
                        <!-- Revolut -->
                        <button class="payment-method-btn" data-method="revolut">
                            <div class="payment-method-icon" style="color: #FF5F00;">
                                <i class="fas fa-bank"></i>
                            </div>
                            <div class="payment-method-name">Revolut</div>
                            <div class="payment-method-arrow">
                                <i class="fas fa-chevron-down"></i>
                            </div>
                        </button>
                        
                        <div class="payment-method-details" id="revolutDetails">
                            <div class="payment-details-grid">
                                <div class="qr-code-container">
                                    <span class="qr-code-label" data-i18n="payment.revolut_qr">Cliquez sur le QR code pour ouvrir Revolut</span>
                                    <img src="assets/images/revolut.webp" alt="QR Code Revolut" id="revolutQrCode" class="qr-code-img" title="Cliquez pour ouvrir Revolut">
                                </div>
                                
                                <div class="payment-info">
                                    <div class="info-item clickable" id="revolutLinkItem">
                                        <div class="info-label" data-i18n="payment.revolut_link">Lien Revolut</div>
                                        <div class="info-value" id="revolutLinkDisplay">revolut.me/yoann</div>
                                    </div>
                                    <div class="info-item">
                                        <div class="info-label" data-i18n="payment.beneficiary_name">Nom du b√©n√©ficiaire</div>
                                        <div class="info-value" id="revolutName">Yoann Bourbia</div>
                                    </div>
                                    <div class="info-item">
                                        <div class="info-label" data-i18n="payment.amount">Montant</div>
                                        <div class="info-value" id="revolutAmount">-</div>
                                    </div>
                                </div>
                                
                                <div class="payment-notice">
                                    <p>
                                        <i class="fas fa-info-circle"></i>
                                        <strong data-i18n="payment.important">Important</strong> <span data-i18n="payment.notice">: Apr√®s paiement, cliquez sur "J'ai pay√© avec Revolut"</span>
<div data-i18n="payment.notice2">:pour confirmer votre r√©servation.</div>
                                    </p>
                                </div>
                                
                                <div class="payment-action">
                                    <button class="btn-confirm-payment" data-method="revolut">
                                        <i class="fas fa-check"></i> <span data-i18n="payment.paid_revolut">J'ai pay√© avec Revolut</span>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Interac (pour les Canadiens) -->
                        <button class="payment-method-btn" data-method="interac" id="interacBtn" style="display: none;">
                            <div class="payment-method-icon" style="color: #E41E26;">
                                <i class="fas fa-university"></i>
                            </div>
                            <div class="payment-method-name">Interac</div>
                            <div class="payment-method-arrow">
                                <i class="fas fa-chevron-down"></i>
                            </div>
                        </button>
                        
                        <div class="payment-method-details" id="interacDetails">
                            <div class="payment-details-content">
                                <h3 style="margin-bottom: 20px; display: flex; align-items: center; gap: 8px;">
                                    <i class="fas fa-university" style="color: #E41E26;"></i> <span data-i18n="payment.interac_title">Paiement Interac</span>
                                </h3>
                                <p style="margin-bottom: 20px; color: #555;" data-i18n="payment.interac_instructions">
                                    Veuillez effectuer un virement Interac aux coordonn√©es suivantes :
                                </p>
                                
                                <div class="bank-details">
                                    <div class="detail-item">
                                        <span class="label" data-i18n="payment.beneficiary_name">Nom du b√©n√©ficiaire:</span>
                                        <span class="value" id="interacName">Yoann Bourbia</span>
                                    </div>
                                    <div class="detail-item">
                                        <span class="label" data-i18n="payment.interac_email">Email Interac:</span>
                                        <span class="value" id="interacEmail">yoannbourbia@gmail.com</span>
                                    </div>
                                    <div class="detail-item">
                                        <span class="label" data-i18n="payment.amount">Montant:</span>
                                        <span class="value" id="interacAmount">-</span>
                                    </div>
                                </div>
                                
                                <div class="payment-notice">
                                    <p>
                                        <i class="fas fa-info-circle"></i>
                                        <strong data-i18n="payment.important">Important</strong> <span data-i18n="payment.notice">: Apr√®s paiement, cliquez sur "J'ai pay√© avec Revolut"</span>
<div data-i18n="payment.notice2">:pour confirmer votre r√©servation.</div>
                                    </p>
                                </div>
                                
                                <div class="payment-action">
                                    <button class="btn-confirm-payment" data-method="interac">
                                        <i class="fas fa-check"></i> <span data-i18n="payment.paid_interac">J'ai pay√© avec Interac</span>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- PayPal -->
                        <button class="payment-method-btn" data-method="paypal">
                            <div class="payment-method-icon" style="color: #003087;">
                                <i class="fab fa-paypal"></i>
                            </div>
                            <div class="payment-method-name">PayPal</div>
                            <div class="payment-method-arrow">
                                <i class="fas fa-chevron-down"></i>
                            </div>
                        </button>
                        
                        <div class="payment-method-details" id="paypalDetails">
                            <div class="payment-details-grid">
                                <div class="qr-code-container">
                                    <span class="qr-code-label" data-i18n="payment.paypal_qr">Cliquez sur le QR code pour ouvrir PayPal</span>
                                    <img src="assets/images/paypal.webp" alt="QR Code PayPal" id="paypalQrCode" class="qr-code-img" title="Cliquez pour ouvrir PayPal">
                                </div>
                                
                                <div class="payment-info">
                                    <div class="info-item clickable" id="paypalLinkItem">
                                        <div class="info-label" data-i18n="payment.paypal_link">Lien PayPal</div>
                                        <div class="info-value" id="paypalLinkDisplay">paypal.me/yoann</div>
                                    </div>
                                    <div class="info-item">
                                        <div class="info-label" data-i18n="payment.paypal_email">Email PayPal</div>
                                        <div class="info-value" id="paypalEmail">yoannbourbia@gmail.com</div>
                                    </div>
                                    <div class="info-item">
                                        <div class="info-label" data-i18n="payment.amount">Montant</div>
                                        <div class="info-value" id="paypalAmount">-</div>
                                    </div>
                                </div>
                                
                                <div class="payment-notice">
                                    <p>
                                        <i class="fas fa-info-circle"></i>
                                        <strong data-i18n="payment.important">Important</strong> <span data-i18n="payment.notice">: Apr√®s paiement, cliquez sur "J'ai pay√© avec Revolut"</span>
<div data-i18n="payment.notice2">:pour confirmer votre r√©servation.</div>
                                    </p>
                                </div>
                                
                                <div class="payment-action">
                                    <button class="btn-confirm-payment" data-method="paypal">
                                        <i class="fas fa-check"></i> <span data-i18n="payment.paid_paypal">J'ai pay√© avec PayPal</span>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Carte bancaire (Stripe) -->
                        <button class="payment-method-btn" data-method="card">
                            <div class="payment-method-icon" style="color: #635BFF;">
                                <i class="fas fa-credit-card"></i>
                            </div>
                            <div class="payment-method-name" data-i18n="payment.card_method">Visa/Mastercard/Amex (Stripe)</div>
                            <div class="payment-method-arrow">
                                <i class="fas fa-chevron-down"></i>
                            </div>
                        </button>
                        
                        <div class="payment-method-details" id="cardDetails">
                            <div class="card-form">
                                <div class="stripe-card-element" id="card-element"></div>
                                <div id="card-errors" role="alert"></div>
                                
                                <div class="payment-action">
                                    <button class="btn-confirm-payment" id="processCardPayment" data-method="card" disabled>
                                        <i class="fas fa-lock"></i> <span data-i18n="payment.pay_with_card">Payer par carte</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Colonne droite : R√©capitulatif -->
                <div class="payment-card">
                    <h2 class="card-title" data-i18n="payment.summary">R√©capitulatif</h2>
                    
                    <div id="paymentSummary"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Script Stripe -->
    <script src="https://js.stripe.com/v3/"></script>
    
    <!-- Scripts -->
    <script src="config.js"></script>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script src="supabase.js"></script>
    <script src="currency.js"></script>
    <script src="translation.js"></script>
    <script src="packages.js"></script>
    <script src="auth.js"></script>
    <script src="payment-ui.js"></script>
</body>
</html>
